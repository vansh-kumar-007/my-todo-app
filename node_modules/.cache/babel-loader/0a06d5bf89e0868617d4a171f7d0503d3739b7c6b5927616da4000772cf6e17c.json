{"ast":null,"code":"var _jsxFileName = \"/home/vansh/my-todo-app/src/ToDoList.js\",\n  _s = $RefreshSig$();\n// ...existing imports...\nimport React, { useEffect, useState } from 'react';\nimport { db, auth } from './firebase';\nimport { collection, addDoc, deleteDoc, doc, onSnapshot, query, where, orderBy, updateDoc } from 'firebase/firestore';\n\n// ...existing imports...\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst handleSmartAdd = async e => {\n  e.preventDefault();\n  if (!smartInput.trim()) return;\n  setParsing(true);\n  try {\n    const res = await fetch(\"/api/parse-task\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        text: smartInput\n      })\n    });\n    const parsed = await res.json();\n\n    // Fallback in case parsing fails\n    if (!parsed.text) {\n      alert(\"Could not parse task. Please try again.\");\n      setParsing(false);\n      return;\n    }\n    await addDoc(collection(db, 'tasks'), {\n      text: parsed.text,\n      uid: user.uid,\n      createdAt: new Date(parsed.dueDate || Date.now()),\n      completed: false,\n      dueDate: parsed.dueDate || null,\n      recurrence: parsed.recurrence || null\n    });\n    setSmartInput('');\n  } catch (err) {\n    alert(\"Error adding smart task: \" + err.message);\n  }\n  setParsing(false);\n};\nfunction ToDoList() {\n  _s();\n  // ...existing state...\n  const [tasks, setTasks] = useState([]);\n  const [input, setInput] = useState('');\n  const [smartInput, setSmartInput] = useState('');\n  const [parsing, setParsing] = useState(false);\n  const user = auth.currentUser;\n\n  // ...existing useEffect for tasks...\n\n  // --- New: Smart Add Handler ---\n  const handleSmartAdd = async e => {\n    e.preventDefault();\n    if (!smartInput.trim()) return;\n    setParsing(true);\n\n    // Call your backend (or OpenAI API directly) here\n    // For now, we'll just add it as a normal task (we'll add AI step next)\n    const parsed = await mockParseTask(smartInput); // Replace with real API call later\n\n    await addDoc(collection(db, 'tasks'), {\n      text: parsed.text,\n      uid: user.uid,\n      createdAt: new Date(parsed.dueDate || Date.now()),\n      completed: false,\n      dueDate: parsed.dueDate || null\n    });\n    setSmartInput('');\n    setParsing(false);\n  };\n\n  // Mock AI parser (replace this with your real API later)\n  async function mockParseTask(text) {\n    // Very basic fake logic for demo\n    return {\n      text: text,\n      dueDate: null\n    };\n  }\n\n  // ...existing handlers...\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSmartAdd,\n      style: {\n        marginBottom: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: smartInput,\n        onChange: e => setSmartInput(e.target.value),\n        placeholder: \"Try: 'Remind me to call mom next Monday at 8pm'\",\n        style: {\n          width: '70%',\n          padding: 8\n        },\n        disabled: parsing\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          padding: 8,\n          marginLeft: 8\n        },\n        disabled: parsing,\n        children: parsing ? 'Parsing...' : 'Smart Add'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n_s(ToDoList, \"2HEiMl0eyIrvp531SQAaFdmUR/0=\");\n_c = ToDoList;\nexport default ToDoList;\nvar _c;\n$RefreshReg$(_c, \"ToDoList\");","map":{"version":3,"names":["React","useEffect","useState","db","auth","collection","addDoc","deleteDoc","doc","onSnapshot","query","where","orderBy","updateDoc","jsxDEV","_jsxDEV","handleSmartAdd","e","preventDefault","smartInput","trim","setParsing","res","fetch","method","headers","body","JSON","stringify","text","parsed","json","alert","uid","user","createdAt","Date","dueDate","now","completed","recurrence","setSmartInput","err","message","ToDoList","_s","tasks","setTasks","input","setInput","parsing","currentUser","mockParseTask","children","onSubmit","style","marginBottom","value","onChange","target","placeholder","width","padding","disabled","fileName","_jsxFileName","lineNumber","columnNumber","type","marginLeft","_c","$RefreshReg$"],"sources":["/home/vansh/my-todo-app/src/ToDoList.js"],"sourcesContent":["// ...existing imports...\nimport React, { useEffect, useState } from 'react';\nimport { db, auth } from './firebase';\nimport {\n  collection,\n  addDoc,\n  deleteDoc,\n  doc,\n  onSnapshot,\n  query,\n  where,\n  orderBy,\n  updateDoc,\n} from 'firebase/firestore';\n\n\n\n// ...existing imports...\nconst handleSmartAdd = async (e) => {\n  e.preventDefault();\n  if (!smartInput.trim()) return;\n  setParsing(true);\n\n  try {\n    const res = await fetch(\"/api/parse-task\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ text: smartInput }),\n    });\n    const parsed = await res.json();\n\n    // Fallback in case parsing fails\n    if (!parsed.text) {\n      alert(\"Could not parse task. Please try again.\");\n      setParsing(false);\n      return;\n    }\n\n    await addDoc(collection(db, 'tasks'), {\n      text: parsed.text,\n      uid: user.uid,\n      createdAt: new Date(parsed.dueDate || Date.now()),\n      completed: false,\n      dueDate: parsed.dueDate || null,\n      recurrence: parsed.recurrence || null,\n    });\n    setSmartInput('');\n  } catch (err) {\n    alert(\"Error adding smart task: \" + err.message);\n  }\n  setParsing(false);\n};\n\n\n\nfunction ToDoList() {\n  // ...existing state...\n  const [tasks, setTasks] = useState([]);\n  const [input, setInput] = useState('');\n  const [smartInput, setSmartInput] = useState('');\n  const [parsing, setParsing] = useState(false);\n\n  const user = auth.currentUser;\n\n  // ...existing useEffect for tasks...\n\n  // --- New: Smart Add Handler ---\n  const handleSmartAdd = async (e) => {\n    e.preventDefault();\n    if (!smartInput.trim()) return;\n    setParsing(true);\n\n    // Call your backend (or OpenAI API directly) here\n    // For now, we'll just add it as a normal task (we'll add AI step next)\n    const parsed = await mockParseTask(smartInput); // Replace with real API call later\n\n    await addDoc(collection(db, 'tasks'), {\n      text: parsed.text,\n      uid: user.uid,\n      createdAt: new Date(parsed.dueDate || Date.now()),\n      completed: false,\n      dueDate: parsed.dueDate || null,\n    });\n    setSmartInput('');\n    setParsing(false);\n  };\n\n  // Mock AI parser (replace this with your real API later)\n  async function mockParseTask(text) {\n    // Very basic fake logic for demo\n    return {\n      text: text,\n      dueDate: null,\n    };\n  }\n\n  // ...existing handlers...\n\n  return (\n    <div>\n      {/* --- New Smart Add UI --- */}\n      <form onSubmit={handleSmartAdd} style={{ marginBottom: 8 }}>\n        <input\n          value={smartInput}\n          onChange={e => setSmartInput(e.target.value)}\n          placeholder=\"Try: 'Remind me to call mom next Monday at 8pm'\"\n          style={{ width: '70%', padding: 8 }}\n          disabled={parsing}\n        />\n        <button type=\"submit\" style={{ padding: 8, marginLeft: 8 }} disabled={parsing}>\n          {parsing ? 'Parsing...' : 'Smart Add'}\n        </button>\n      </form>\n\n      {/* ...existing Add Task form and task list below ... */}\n      {/* keep your previous code here */}\n    </div>\n  );\n}\n\nexport default ToDoList;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,EAAE,EAAEC,IAAI,QAAQ,YAAY;AACrC,SACEC,UAAU,EACVC,MAAM,EACNC,SAAS,EACTC,GAAG,EACHC,UAAU,EACVC,KAAK,EACLC,KAAK,EACLC,OAAO,EACPC,SAAS,QACJ,oBAAoB;;AAI3B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,cAAc,GAAG,MAAOC,CAAC,IAAK;EAClCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClB,IAAI,CAACC,UAAU,CAACC,IAAI,CAAC,CAAC,EAAE;EACxBC,UAAU,CAAC,IAAI,CAAC;EAEhB,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,iBAAiB,EAAE;MACzCC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEC,IAAI,EAAEV;MAAW,CAAC;IAC3C,CAAC,CAAC;IACF,MAAMW,MAAM,GAAG,MAAMR,GAAG,CAACS,IAAI,CAAC,CAAC;;IAE/B;IACA,IAAI,CAACD,MAAM,CAACD,IAAI,EAAE;MAChBG,KAAK,CAAC,yCAAyC,CAAC;MAChDX,UAAU,CAAC,KAAK,CAAC;MACjB;IACF;IAEA,MAAMf,MAAM,CAACD,UAAU,CAACF,EAAE,EAAE,OAAO,CAAC,EAAE;MACpC0B,IAAI,EAAEC,MAAM,CAACD,IAAI;MACjBI,GAAG,EAAEC,IAAI,CAACD,GAAG;MACbE,SAAS,EAAE,IAAIC,IAAI,CAACN,MAAM,CAACO,OAAO,IAAID,IAAI,CAACE,GAAG,CAAC,CAAC,CAAC;MACjDC,SAAS,EAAE,KAAK;MAChBF,OAAO,EAAEP,MAAM,CAACO,OAAO,IAAI,IAAI;MAC/BG,UAAU,EAAEV,MAAM,CAACU,UAAU,IAAI;IACnC,CAAC,CAAC;IACFC,aAAa,CAAC,EAAE,CAAC;EACnB,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZV,KAAK,CAAC,2BAA2B,GAAGU,GAAG,CAACC,OAAO,CAAC;EAClD;EACAtB,UAAU,CAAC,KAAK,CAAC;AACnB,CAAC;AAID,SAASuB,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAClB;EACA,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAG7C,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC8C,KAAK,EAAEC,QAAQ,CAAC,GAAG/C,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACiB,UAAU,EAAEsB,aAAa,CAAC,GAAGvC,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACgD,OAAO,EAAE7B,UAAU,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMgC,IAAI,GAAG9B,IAAI,CAAC+C,WAAW;;EAE7B;;EAEA;EACA,MAAMnC,cAAc,GAAG,MAAOC,CAAC,IAAK;IAClCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAACC,UAAU,CAACC,IAAI,CAAC,CAAC,EAAE;IACxBC,UAAU,CAAC,IAAI,CAAC;;IAEhB;IACA;IACA,MAAMS,MAAM,GAAG,MAAMsB,aAAa,CAACjC,UAAU,CAAC,CAAC,CAAC;;IAEhD,MAAMb,MAAM,CAACD,UAAU,CAACF,EAAE,EAAE,OAAO,CAAC,EAAE;MACpC0B,IAAI,EAAEC,MAAM,CAACD,IAAI;MACjBI,GAAG,EAAEC,IAAI,CAACD,GAAG;MACbE,SAAS,EAAE,IAAIC,IAAI,CAACN,MAAM,CAACO,OAAO,IAAID,IAAI,CAACE,GAAG,CAAC,CAAC,CAAC;MACjDC,SAAS,EAAE,KAAK;MAChBF,OAAO,EAAEP,MAAM,CAACO,OAAO,IAAI;IAC7B,CAAC,CAAC;IACFI,aAAa,CAAC,EAAE,CAAC;IACjBpB,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;;EAED;EACA,eAAe+B,aAAaA,CAACvB,IAAI,EAAE;IACjC;IACA,OAAO;MACLA,IAAI,EAAEA,IAAI;MACVQ,OAAO,EAAE;IACX,CAAC;EACH;;EAEA;;EAEA,oBACEtB,OAAA;IAAAsC,QAAA,eAEEtC,OAAA;MAAMuC,QAAQ,EAAEtC,cAAe;MAACuC,KAAK,EAAE;QAAEC,YAAY,EAAE;MAAE,CAAE;MAAAH,QAAA,gBACzDtC,OAAA;QACE0C,KAAK,EAAEtC,UAAW;QAClBuC,QAAQ,EAAEzC,CAAC,IAAIwB,aAAa,CAACxB,CAAC,CAAC0C,MAAM,CAACF,KAAK,CAAE;QAC7CG,WAAW,EAAC,iDAAiD;QAC7DL,KAAK,EAAE;UAAEM,KAAK,EAAE,KAAK;UAAEC,OAAO,EAAE;QAAE,CAAE;QACpCC,QAAQ,EAAEb;MAAQ;QAAAc,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CAAC,eACFpD,OAAA;QAAQqD,IAAI,EAAC,QAAQ;QAACb,KAAK,EAAE;UAAEO,OAAO,EAAE,CAAC;UAAEO,UAAU,EAAE;QAAE,CAAE;QAACN,QAAQ,EAAEb,OAAQ;QAAAG,QAAA,EAC3EH,OAAO,GAAG,YAAY,GAAG;MAAW;QAAAc,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/B,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAIJ,CAAC;AAEV;AAACtB,EAAA,CA/DQD,QAAQ;AAAA0B,EAAA,GAAR1B,QAAQ;AAiEjB,eAAeA,QAAQ;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}